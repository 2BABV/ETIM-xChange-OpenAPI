type: object
description: |
  Trade item ordering information for bulk retrieval, with embedded composite key fields.
  Contains ordering details from ETIM xChange `TradeItem.Ordering` section.
  
  This flat structure is optimized for bulk data retrieval where each item in the response
  must be self-contained with its own key.
  
  For single-item responses (where key is at root level), use `TradeItemOrdering`.
  
  **ETIM xChange**: `Ordering`
  **Path**: `Supplier[].Product[].TradeItem[].Ordering`
additionalProperties: false
required:
  - tradeItemRef
  - orderUnit
  - minimumOrderQuantity
  - orderStepSize
properties:
  # =========================================================================
  # INTERNAL REFERENCE ID
  # =========================================================================
  
  tradeItemRef:
    description: |
      Server-generated opaque reference key that identifies the parent trade item.
      Use this to correlate with the corresponding trade item record from the
      `/bulk/trade-item-details` endpoint.
      
      This is a technical identifier not present in the ETIM xChange domain model.
    $ref: ../../../../shared/schemas/identifiers/TechnicalId.yaml
    examples:
      - "ti-sku-lamp-001"
      - "f47ac10b-58cc-4372-a567-0e02b2c3d479"
  
  # =========================================================================
  # ORDERING FIELDS (from TradeItem.Ordering)
  # =========================================================================
  
  orderUnit:
    description: |
      Unit in which the item can be ordered (e.g., pieces, boxes, meters).
      
      **ETIM xChange**: `OrderUnit`
      **Path**: `Supplier[].Product[].TradeItem[].Ordering.OrderUnit`
    $ref: ../../../../shared/schemas/common/UnitCodes.yaml
    examples:
      - C62  # Piece
      - BX   # Box
      - MTR  # Meter
  
  minimumOrderQuantity:
    type: number
    description: |
      Minimum quantity that must be ordered (converted from ETIM xChange string to number).
      
      **ETIM xChange**: `MinimumOrderQuantity` (string with pattern)
      **Path**: `Supplier[].Product[].TradeItem[].Ordering.MinimumOrderQuantity`
    minimum: 0
    multipleOf: 0.0001
    maximum: 999999999999.9999
    examples:
      - 1
      - 10
      - 500
  
  orderStepSize:
    type: number
    description: |
      Quantity increment for orders beyond minimum (converted from ETIM xChange string to number).
      For example, if minimum is 10 and step is 5, you can order 10, 15, 20, etc.
      
      **ETIM xChange**: `OrderStepSize` (string with pattern)
      **Path**: `Supplier[].Product[].TradeItem[].Ordering.OrderStepSize`
    minimum: 0
    multipleOf: 0.0001
    maximum: 999999999999.9999
    examples:
      - 1
      - 5
      - 100
  
  standardOrderLeadTime:
    type: ["integer", "null"]
    description: |
      Standard lead time for orders in days.
      
      **ETIM xChange**: `StandardOrderLeadTime`
      **Path**: `Supplier[].Product[].TradeItem[].Ordering.StandardOrderLeadTime`
    minimum: 0
    examples:
      - 5
      - 14
      - null
  
  useUnit:
    description: |
      Unit in which the item is used or consumed (may differ from order unit, nullable).
      
      **ETIM xChange**: `UseUnit`
      **Path**: `Supplier[].Product[].TradeItem[].Ordering.UseUnit`
    anyOf:
      - $ref: ../../../../shared/schemas/common/UnitCodes.yaml
      - type: "null"
    examples:
      - MTR
      - KGM
      - null
  
  useUnitConversionFactor:
    type: ["number", "null"]
    description: |
      Conversion factor from order unit to use unit (converted from ETIM xChange string to number).
      
      **ETIM xChange**: `UseUnitConversionFactor` (string with pattern)
      **Path**: `Supplier[].Product[].TradeItem[].Ordering.UseUnitConversionFactor`
    minimum: 0
    multipleOf: 0.0001
    maximum: 999999999999.9999
    examples:
      - 1.0
      - 100.0
      - null
  
  singleUseUnitQuantity:
    type: ["number", "null"]
    description: |
      Quantity of use units in a single order unit (converted from ETIM xChange string to number).
      
      **ETIM xChange**: `SingleUseUnitQuantity` (string with pattern)
      **Path**: `Supplier[].Product[].TradeItem[].Ordering.SingleUseUnitQuantity`
    minimum: 0
    multipleOf: 0.0001
    maximum: 999999999999.9999
    examples:
      - 1.0
      - 100.0
      - null
  
  alternativeUseUnit:
    description: |
      Alternative unit in which the item can be used or consumed (nullable).
      
      **ETIM xChange**: `AlternativeUseUnit`
      **Path**: `Supplier[].Product[].TradeItem[].Ordering.AlternativeUseUnit`
    anyOf:
      - $ref: ../../../../shared/schemas/common/UnitCodes.yaml
      - type: "null"
    examples:
      - LTR
      - null
  
  alternativeUseUnitConversionFactor:
    type: ["number", "null"]
    description: |
      Conversion factor from order unit to alternative use unit (converted from ETIM xChange string to number).
      
      **ETIM xChange**: `AlternativeUseUnitConversionFactor` (string with pattern)
      **Path**: `Supplier[].Product[].TradeItem[].Ordering.AlternativeUseUnitConversionFactor`
    minimum: 0
    multipleOf: 0.0001
    maximum: 999999999999.9999
    examples:
      - 1.0
      - null

examples:
  - tradeItemRef: "ti-sku-lamp-001"
    orderUnit: C62
    minimumOrderQuantity: 1
    orderStepSize: 1
    standardOrderLeadTime: 5
    useUnit: null
    useUnitConversionFactor: null
    singleUseUnitQuantity: null
    alternativeUseUnit: null
    alternativeUseUnitConversionFactor: null
  - tradeItemRef: "ti-sku-cable-002"
    orderUnit: MTR
    minimumOrderQuantity: 10
    orderStepSize: 5
    standardOrderLeadTime: 3
    useUnit: MTR
    useUnitConversionFactor: 1.0
    singleUseUnitQuantity: 1.0
    alternativeUseUnit: null
    alternativeUseUnitConversionFactor: null
